<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- 부트스트랩 -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>

    <title>Face Detection in Browser</title>

    <!-- Import TensorFlow.js and Teachable Machine libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
    <script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>

    <!-- FontAwesome-->
    <script src="https://kit.fontawesome.com/6131ab8b17.js" crossorigin="anonymous"></script>

    <!-- 부트스트랩-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />

    <!-- Google Font-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Nanum+Myeongjo:wght@400;700&family=Noto+Sans+KR&display=swap" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Nanum+Myeongjo:wght@400;700&family=Noto+Sans+KR&display=swap");
    </style>

    <!-- Go to www.addthis.com/dashboard to customize your tools -->
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-62d6b201e104b376"></script>
  </head>
  <body>
    <!-- 여기서부터 새로작성-->
    <section class="section">
      <h1 class="title pb-3">
        뽀로로 캐릭터 닮은꼴
        <h2 class="subtitle pb-3">인공지능이 가장 유사한 뽀로로 캐릭터를 찾아 줍니다.</h2>
      </h1>
    </section>

    <div class="file-upload container mt-3">
      <div class="image-upload-wrap">
        <input class="file-upload-input uploadBtn" id="uploadBtn" type="file" accept="image/*" />
        <div class="drag-text">
          <h3><i class="fa-solid fa-arrow-up-from-bracket upload__icon"></i></h3>
          <h3>사진을 올려놓거나 눌러서 업로드 하세요.</h3>
        </div>
      </div>

      <!-- 원본 시작-->
      <div class="mt-3 file-upload-content">
        <div id="loading" class="animated bounce">
          <div class="spinner-border" role="status">
            <!-- <span class="sr-only">Loading...</span> -->
          </div>
          <p>인공지능이 당신의 얼굴형을 분석중입니다.</p>
        </div>
        <div id="detected">
          <div>
            <p class="detectResult">사진 분석 결과</p>
            <div>
              <canvas class="faceImage" id="canvas"></canvas>
            </div>
          </div>
        </div>
        <img class="file-upload-image uploadImage" id="uploadImage" onload="resize(this)" src="#" alt="your image" />

        <p class="resultMsg"></p>
        <div id="label-container" class="d-flex flex-column justify-content-around"></div>

        <div class="pt-3 image-title-wrap">
          <button type="button p-2" class="try-again-btn" onclick="gaReload1();" data-toggle="modal" data-target="#adModal">
            <span class="try-again-text">다른 사진으로 재시도</span>
          </button>
        </div>
      </div>
    </div>
    <footer>
      <!-- Go to www.addthis.com/dashboard to customize your tools -->
      <div class="addthis_inline_share_toolbox d-flex justify-content-center mt-5"></div>
      <h4 class="machineInfo">본 서비스는 Google의 인공지능 Teachable Machine 2.0을 활용하였습니다.</h4>
    </footer>
  </body>

  <!-- Import the BlazeFace model and script.js -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/blazeface"></script>
  <script src="src/script.js"></script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-NZ3CW52K9G"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-NZ3CW52K9G");
  </script>
</html>
